<meta charset="UTF-8">
# Python - Introduction to Kivy with a simple Notepad app

* Assistants: Gary Marigliano, Hector Satizabal
* Professor: Andres Perez-Uribe

## Goals

This laboratory will guide you through the use of a Python package called Kivy for creating Graphic User Interfaces (GUI)

## Installing the environment

* Download and install [Miniconda](https://conda.io/miniconda.html)
* Create a conda virtualenv: `conda create -n kivylab python=3`
* Activate it: `conda activate kivylab`
* Install kivy: `conda install -c conda-forge kivy`

## Links

* [Documentation](https://kivy.org/doc/stable/)
* [Source code (can be used as doc)](https://github.com/kivy/kivy/tree/master/kivy)
* [Wiki](https://github.com/kivy/kivy/wiki)
* [Layouts](https://kivy.org/doc/stable/gettingstarted/layouts.html)
* [Code examples](https://github.com/kivy/kivy/tree/master/examples)

## Learn Kivy with examples

We are going through mini tutorials to learn how to play with Kivy. Here are the list:

To run the examples activate your virtualenv and run it with `python main.py`

1. Hello World
2. Hello World using the kv language
3. Basic Layout
4. Handling events
5. Menu bar
6. Notepad (to be completed)

Note: other examples are available on the example folder but will not be detailed.

### 01 Hello World

Take a look at example `01_hello`. It is a simple app that shows a button that does nothing. Please look at the comments in the code.

### 02 Hello World using the kv language

As we saw in the first example, the components/widgets are declared directly in the code. This is great for a hello world example but this way of doing things have drawbacks:

* It does not scale well. A GUI with a lot of widgets will become hard to maintain.
* The code contains both the structure of the widgets (i.e. the presentation) and how
they interact with each other (i.e. the logic). We want to separate responsabilities.

To mitigate these effects Kivy proposes a way to declare the structure of the widgets in external files. These files use the kv language. Basically it is one or more files that describe how the different widgets are organized. For example, a GUI with a single button.

```
#:kivy 1.10

<GUI>:
    Button:
        text: 'Button 1'
```

The documentation for the kv language is available [here](https://kivy.org/doc/stable/guide/lang.html). Please have a look.

### 03 Basic Layout

Using the kv language it is really simple to create a complex hierarchy of widgets for your application.

In the provided example you can see a `PlusMinusWidget` that contains two `Button`. In the kv file you will see the structure and the properties of its children (e.g. the `text` values). And in the `main.py` you will see that `PlusMinusWidget` is derived from a `BoxLayout` layout.

As always you will find all the documentation about this directly in the kivy source code or on the online documentation. See provided links.

Defining a `PlusMinusWidget` widget on its own allow you to reuse it at multiple places without repeating yourself (think [D.R.Y.](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself))

### 04 Handling events

To handle events i.e. do something when a button is clicked or when a slider's value has changed you need to give a function to call when an event happen. This kind of functions are usually called "callback functions".


The documentation for that is [here](https://kivy.org/doc/stable/guide/events.html#widget-events).

Main steps to handle events:

1. Add an id to your widget to be able to retrieve id from the code
2. Once your widget retrieved specify the callback function

Please see the provided example for more details.

### 05 Menu bar

A menu bar can be easily created using the `ActionBar` widget. When using the `ActionBar` widget as a menu bar, you have to configure the `ActionPrevious` item as it is shown in the example. Buttons are implemented using the `ActionButton` widget and may be grouped in categories using the `ActionGroup` item.

Please see the provided example for more details.

## Exercise
Complete the example in folder `06_notepad` by giving the right
behaviour of every button in the menu bar.

Deadline 2.12.2018 before 23h55



<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js"></script>
<script>
  let body = document.querySelector("body");
  body.innerHTML = (new showdown.Converter()).makeHtml(body.innerHTML);
</script>
